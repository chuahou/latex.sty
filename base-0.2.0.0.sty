% SPDX-License-Identifier: MIT
% Copyright (c) 2020 Chua Hou
%
% Base prelude package for common use.

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{base-0.2.0.0}

% basic packages
\RequirePackage{fullpage}
\RequirePackage{parskip}

% maths essentials
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{bm}

% allow adding formatting per column for tables
\RequirePackage{array}

% code listings
\RequirePackage{listings}
\lstset
	{ basicstyle=\ttfamily
	, columns=fullflexible
	, keepspaces=true
	, belowskip=0\baselineskip
	}

% URLs that break over hyphens
\PassOptionsToPackage{hyphens}{url}\RequirePackage{hyperref}

% flushed footnotes below floating objects
\RequirePackage[hang,flushmargin,bottom]{footmisc}

% for \mathds{1} indicator function
\RequirePackage{dsfont}

% number a single equation manually
\newcommand{\numberthis}[1]{%
	\addtocounter{equation}{1}\tag{\theequation}\label{#1}}

% stack text above an operator
\newcommand{\aboveop}[2]{%
	\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny #1}}}{#2}}}

% small/large spacing between list items
\newcommand{\compactlist}{\setlength\parskip{0.2em}}
\newcommand{\sparselist}{\setlength\itemsep{1.5em}}

% allow display breaks except when specified in nobreakalign
\allowdisplaybreaks
\newenvironment{nobreakalign}
	{\begingroup\allowdisplaybreaks[0]\[\begin{aligned}}
	{\end{aligned}\]\endgroup}
